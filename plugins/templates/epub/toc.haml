!!! XML
<!DOCTYPE ncx PUBLIC '-//NISO//DTD ncx 2005-1//EN' 'http://www.daisy.org/z3986/2005/ncx-2005-1.dtd'>

%ncx(xmlns='http://www.daisy.org/z3986/2005/ncx/' version='2005-1')
  %head
    %meta(name='dtb:uid' content=uuid)
    %meta(name='dtb:depth' content='1')
    %meta(name='dtb:totalPageCount' content='0')
    %meta(name='dtb:maxPageNumber' content='0')
  
  %docTitle
    %text= title

  %navMap
    %navPoint{ :id => "navpoint-1", :playOrder => 1 }
      %navLabel
        %text= title
      %content{ :src => title_file }
    
    - chapters.each_with_index do |chapter,i|
      / First navPoint is 1. Continue from there.
      - idx = i + 2
      %navPoint{ :id => "navpoint-#{idx}", :playOrder => idx }
        %navLabel
          %text= "Chapter #{i + 1}: #{chapter[:name]}"
        %content{ :src => chapter[:file] }
